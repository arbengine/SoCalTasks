import {
  useTelemetry
} from "./chunk-IQQ4CL35.js";
import {
  require_dist
} from "./chunk-B6QUAMBD.js";
import "./chunk-4UOXVWM6.js";
import {
  require_react
} from "./chunk-U3RAP3IQ.js";
import {
  __toESM
} from "./chunk-5IKWDFCZ.js";

// node_modules/sanity/lib/_chunks-es/PostMessageTelemetry.mjs
var import_react_compiler_runtime = __toESM(require_dist(), 1);
var import_react2 = __toESM(require_react(), 1);
var PostMessageTelemetry = (props) => {
  const $ = (0, import_react_compiler_runtime.c)(4), {
    comlink
  } = props, telemetry = useTelemetry();
  let t0, t1;
  return $[0] !== comlink || $[1] !== telemetry ? (t0 = () => comlink.on("visual-editing/telemetry-log", async (message) => {
    const {
      event,
      data
    } = message;
    data ? telemetry.log(event, data) : telemetry.log(event);
  }), t1 = [comlink, telemetry], $[0] = comlink, $[1] = telemetry, $[2] = t0, $[3] = t1) : (t0 = $[2], t1 = $[3]), (0, import_react2.useEffect)(t0, t1), null;
};
var PostMessageTelemetry$1 = (0, import_react2.memo)(PostMessageTelemetry);
export {
  PostMessageTelemetry$1 as default
};
//# sourceMappingURL=PostMessageTelemetry-5PHHOEBD.js.map
